{% extends "base.html" %}
{% load static %}
{% block title %}Top{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<style>
  /* ヒーローの高さを固定 0px判定での非表示対策 */
  .swiper { 
    width: 100%; 
    max-height: 360px;
  }
</style>
{% endblock %}

{% block content %}
<!-- ======== ヒーローカルーセル ======== -->
<section class="swiper heroSwiper">
  <div class="swiper-wrapper">
    <article class="swiper-slide flex items-center pt-10 pb-4 md:pt-20 md:pb-6">
      <div class="mx-auto max-w-6xl flex items-start gap-10 px-10 w-full">
        <div class="flex flex-col gap-8 flex-1">
          <h1 class="text-4xl md:text-5xl font-bold text-[#0E1336]">
            コミュニケーションを<br>もっとスムーズに</h1>
            <p>
              <span class="font-['Montserrat'] font-bold">Teamy</span>は<br>
              自分と相手（チーム）の価値観の違いを見える化し<br>
              コミュニケーションの最適解を教えてくれるアプリです。
            </p>
        </div>
        <div class="w-[320px] h-[240px] flex items-center justify-center shrink-0">
          <img
            src="{% static 'imgs/growth.png' %}" alt="growth"
            class="max-w-full max-h-full object-contain">
        </div>
      </div>
    </article>

    <article class="swiper-slide flex items-center pt-10 pb-4 md:pt-20 md:pb-6">
      <div class="mx-auto max-w-6xl flex items-start gap-10 px-10 w-full">
        <div class="flex flex-col gap-8 flex-1">
          <h1 class="text-4xl md:text-5xl font-bold text-[#0E1336]">
            価値観はさまざま<br>コミュニケーションは1つだけ？</h1>
            <p>
              人は誰でも、自分なりの「正しいコミュニケーションの型」を持っています。<br>
              ただしそれは<br>
              <span class="underline">チームや相手が変われば正解ではなくなる</span>ことがあります。<br>
              <br>              
              Teamyが重視するのは「相対性」です。
            </p>
        </div>
        <div class="w-[320px] h-[240px] flex items-center justify-center shrink-0">
          <img
            src="{% static 'imgs/network.png' %}" alt="network"
            class="max-w-full max-h-full object-contain">
        </div>
      </div>
    </article>

    <article class="swiper-slide flex items-center pt-10 pb-4 md:pt-20 md:pb-6">
      <div class="mx-auto max-w-6xl flex items-start gap-10 px-10 w-full">
        <div class="flex flex-col gap-8 flex-1">
          <h1 class="text-4xl md:text-5xl font-bold text-[#0E1336]">
            違いを知ると<br>あなたの言動が変わるかも</h1>
            <p>
              自分の価値観と、相手の価値観<br>
              その差はどれくらいあるのか<br>
              <br>
              それによって「そのままでいい」「少し調整する」「意識的に変える」など<br>
              あなたの行動指針を、Teamyがアドバイスします。
            </p>
        </div>
        <div class="w-[320px] h-[240px] flex items-center justify-center shrink-0">
          <img
            src="{% static 'imgs/team.png' %}" alt="team"
            class="max-w-full max-h-full object-contain">
        </div>
      </div>
    </article>
  </div>
</section>

<!-- ======== はじめる ボタン ======== -->
 <!-- 非ログイン時のみボタンを表示する -->
{% if not request.user.is_authenticated %}
<section class="py-0">
  <div class="mx-auto max-w-6xl px-10">
    <a
      href="{% url 'accounts:signup' %}"
      class="inline-block bg-[#F1A46C] hover:bg-[#E89455] hover:scale-[1.03] transition-transform text-white font-medium px-8 py-3 rounded-[36px]">
      はじめる
    </a>
  </div>
</section>
{% endif %}

<!-- ======== アプリ概要 ======== -->
<section class="mx-auto max-w-7xl px-4 py-14">
  <div class="grid grid-cols-1 gap-12 md:grid-cols-3">
    <article class="group text-center rounded-lg border border-gray-200 bg-white p-8 shadow-2xl">
      <img 
        src="{% static 'imgs/icon_Q&A.png' %}" alt="Q&A" 
        class="mx-auto max-h-full max-w-full object-contain transition-transform group-hover:scale-110"> 
        <h2 class="text-xl font-bold mb-4">Question</h2>
          <p class="text-[#716C6C]">
            質問に答えると<br>
            あなたやチームの価値観を<br>
            診断します
          </p>
    </article>

    <article class="group text-center rounded-lg border border-gray-200 bg-white p-8 shadow-2xl">
      <img 
        src="{% static 'imgs/icon_graph.png' %}" alt="graph"
        class="mx-auto max-h-full max-w-full object-contain transition-transform group-hover:scale-110"> 
        <h2 class="text-xl font-bold mb-4">Analysis</h2>
          <p class="text-[#716C6C]">
            両者の位置関係を可視化し<br>
            最適なコミュニケーションを<br>
            アドバイス
          </p>
    </article>

    <article class="group text-center rounded-lg border border-gray-200 bg-white p-8 shadow-2xl">
      <img 
        src="{% static 'imgs/icon_action.png' %}" alt="Action" 
        class="mx-auto max-h-full max-w-full object-contain transition-transform group-hover:scale-110"> 
        <h2 class="text-xl font-bold mb-4">Action</h2>
          <p class="text-[#716C6C]">
            チームが変わると<br>
            同じあなたでも立ち位置は変わる<br>
            状況ごとの最適解を<br>
          </p>
    </article>
  </div>
</section>

{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const swiper = new Swiper(".heroSwiper", {
      loop: true,
      effect: 'fade', 
      fadeEffect: {
        crossFade: true
      },
      speed: 1000,
      autoplay: {
        delay: 4500,
        disableOnInteraction: false,
      },
    });
  });
</script>
{% endblock %}