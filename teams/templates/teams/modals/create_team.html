{% load static %}

<!-- モーダル全体 -->
<div id="createTeamModal" class="hidden fixed inset-0 z-50">

  <!-- モーダル背景 -->
  <div class="modal-bg absolute inset-0 bg-black/50 flex items-center justify-center">

    <!-- モーダル本体 -->
    <div class="modal-content bg-white rounded-lg shadow-xl w-full max-w-[480px] p-10 relative text-xl">

      <!-- 閉じるボタン -->
      <button type="button"
        class="modal-close absolute top-4 right-4 text-gray-400 text-4xl hover:text-gray-600">×</button>

        <!-- ======== フォーム ======== -->
        <form method="POST" action="{% url 'teams:create_team' %}">
          {% csrf_token %}

          {% if create_form %}
            {% for error in create_form.non_field_errors %}
              <div class="mb-4 p-3 bg-red-50 border border-red-300 rounded text-red-600 text-base">
                ・{{ error }}
              </div>
            {% endfor %}
          {% endif %}

          <div class="space-y-8 pt-6">
          <!-- チーム名 -->
            <div>
              <label class="block font-medium mb-2">チーム名
              </label>
            <input type="text" name="name" value="{{ create_form.name.value|default_if_none:'' }}" class="w-full border border-gray-400 rounded-lg p-3">
            {% if create_form.name.errors %}
              <p class="text-red-500 text-sm mt-1">
                {{ create_form.name.errors.0 }}
              </p>
            {% endif %}
            </div>

            <!-- チーム説明 -->
            <div>
              <label class="block font-medium mb-2">チームについての説明（任意）</label>
              <textarea 
                name="description" 
                maxlength="30"
                class="w-full border border-gray-400 rounded-lg p-3 min-h-36 resize-none"
              >{{ create_form.description.value|default_if_none:'' }}</textarea>

              {% if create_form.description.errors %}
                <p class="text-red-500 text-sm mt-1">
                  {{ create_form.description.errors.0 }}
                </p>
              {% endif %}
            </div>

            <!-- 作成ボタン -->
            <div class="flex justify-center pt-6">
              <button type="submit"
                class="bg-teamy-orange hover:bg-teamy-orangeDark text-white font-semibold
                      py-3 px-16 rounded-full transition-all active:scale-95 shadow-md">
                作成
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

{% if create_form and create_form.errors %}
  <div id="create-team-error-flag" data-has-errors="true"></div>
{% endif %}